Взято [отсюда](https://www.evidentlyai.com/blog/fastapi-tutorial)
![Project drawio](https://github.com/NGeraskina/nlp_project_MOVS/assets/35665662/4e927bd1-d0a4-4c60-89c2-e2599b20b38c)

**Легенда**
* Желтый - хранение, статичные данные
* Зеленый - серверная часть, реализованная на `Fast API`
* Красный - `UI` часть - фронт проекта

Сервис состоит из двух частей - **инференс** и **мониторинг**\*. Части связаны с помощью `PostgreSQL` БД.

### Инференс
"Сердце" проекта - получает данные на вход и отдает результат пользователю через UI. 
Состоит из:
* Получения данных, введенных пользователем через UI
* Подгрузки файла модели и преобразований на сервер
* Инференса модели (/predict)
* Передачи ответа модели в UI
* Логирование данных и ответа в БД

### Мониторинг
Нужен разработчикам для того, чтобы отслеживать состояние проекта.
Отслеживает изменения в поведении модели и таргета. Позволяет локализовать проблемы, в случае их возникновения. 

Состоит из двух частей:
* Мониторинг модели - отвечает за качество модели, оценивает её метрики
* Мониторинг таргета - отвечает за изменения в ответе модели

Авторы статьи предлагают реализацию с помощью **референсных данных**. Референсные данные - фиксированные разработчиками input-ы и ответы модели. Например - test обучающей выборки. Мониторинг заключается в **сравнении** референсных данные и тех, которые были получены в ходе работы модели на проде. Если данные  **расходятся** - следует обратить внимание на состояние сервиса. 

В нашем случае сложно реализовать мониторинг модели, так как мы **не можем узнать** истинный таргет. Единственный вариант - оценка пользователя.

Для мониторинга таргета и входных данных - можно сравнивать эвристики по вводу/выходу модели. Например, длину предложения на вход, распределение объектов/связей/атрибутов, выделенных моделью и т.д.

----
\* В оригинальной статье нет разделения на модули. Я разнес мониторинг и инференс, так как предлагаю в первую очередь реализовать инференс. Мониторинг в случае учебного проекта опционален + зависит от реализации инференс части.
